<!DOCTYPE html>
<html>
    <head>
        <title>Page Title</title>
    </head>
    <body>
        <script>
            function computerPlay() {
                let options = ['rock',
                               'paper',
                               'scissors'
                               ];
                let randomIndex = Math.floor(Math.random() * options.length);
                return options[randomIndex];
            }
        
            function playRound(playerSelection, computerSelection){
                const tieMessage = `You picked ${playerSelection}. The computer picked ${computerSelection}. Tie!`;
                const loseMessage = `You picked ${playerSelection}. The computer picked ${computerSelection}. You lose!`;
                const winMessage = `You picked ${playerSelection}. The computer picked ${computerSelection}. You win!`;
                
                if (playerSelection == computerSelection){
                    return [tieMessage, 0];
                } else if (playerSelection == 'rock'){
                    if (computerSelection == 'scissors'){
                        return [winMessage, 1];
                    } else {
                        return [loseMessage, -1];
                    }
                } else if (playerSelection == 'paper'){
                    if (computerSelection == 'rock'){
                        return [winMessage, 1];
                    } else {
                        return [loseMessage, -1];
                    }
                } else if (playerSelection == 'scissors'){
                    if (computerSelection == 'rock'){
                        return [winMessage, 1];
                    } else {
                        return [loseMessage, -1];
                    }
                }
            }
        
        
            function game(rounds){
                var computerSelection,
                    playerSelection,
                    outcome,
                    playerScore,
                    computerScore,
                    winLoseMessage;
                playerScore = 0;
                computerScore = 0;
                
                for (i = 0; i < rounds; i++) {
                    computerSelection = computerPlay();
                    playerSelection = prompt("Pick rock, paper, or scissors").toLowerCase();
                    
                    outcome = playRound(playerSelection, computerSelection);
                    console.log(outcome[0]);
                    
                    if (outcome[1] == 1){
                        playerScore +=1;
                    } else if (outcome[1] == -1){
                        computerScore +=1;
                    }
                }
                
                if (playerScore == computerScore){
                    winLoseMessage = "You tied!";
                } else if(playerScore > computerScore){
                    winLoseMessage = "You win!";
                } else {
                    winLoseMessage = "You lose!";
                }
                
                console.log(`Your score was ${playerScore}. The computer's score was ${computerScore}. ${winLoseMessage}`)
            }
        
            game(5);
            
        </script>
    </body>
</html>
